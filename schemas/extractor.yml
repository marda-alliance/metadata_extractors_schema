---
name: extractor
version: 0.1.0
id: https://www.marda-alliance.org/extractors/extractor
prefixes:
    linkml: https://w3id.org/linkml/
    schema_org: http://schema.org/
    dcmitype: http://purl.org/dc/dcmitype/1.1
imports:
    - linkml:types
    - base
default_range: string
description: >-
    This file describes the `Extractor` model created by the MaRDA extractors WG.


classes:

    SupportedFileTypes:
        attributes:
            id:
                description: >-
                    Registered MarDA extractors ID for this file type.

            description:
                description: Free-text description of caveats or instructions specific
                    to this file type.


    Usage:
        attributes:
            method:
                required: true
                range: UsageTypes
                description: >-
                    Usage invocation method, e.g. from a command line or from Python.
            setup:
                description: >-
                    Any necessary setup step for the 'command' to become available:
                      - for 'method=python', this is an argument to python's 'import'
            command:
                required: true
                description: >-
                    A machine-executable command by which the Extractor functionality
                    can be accessed:
                      - for 'method=cli' a parametrized executable invocation which
                        should be available after installing the Extractor;
                      - for 'method=python' a parametrized function invocation which
                        should eb available after installing and setting up the Extractor.


    Installation:
        attributes:
            method:
                required: true
                range: InstallerTypes
                description: >-
                    Extractor installer, specifying the package manager to process
                    the installation instructions with.
            requirements:
                description: >-
                    Contents of a 'requirements.txt'-like file. Will be installed
                    by the
                    selected Installer using an appropriate method, e.g. 'pip install
                    -r requirements.txt' for pip, or 'conda env create -f requirements.txt'
                    for conda.
            packages:
                multivalued: true
                description: >-
                    A list of packages, including versioned packages or git+https://
                    targets, to be installed using the Installer.


    Extractor:
        description: >-
            A code object or web service that when executed can read a file with specific
            file type, or a set of files with a given structure, and extract or transform
            the scientific data and/or metadata contained within the file.
        close_mappings:
            - schema_org:SoftwareApplication
            - schema_org:ServiceChannel
            - dcmitype:Software
            - dcmitype:Service
        slots:
            - id
            - name
            - description
            - subject
            - citations
            - license
        attributes:
            supported_filetypes:
                multivalued: true
                required: true
                range: SupportedFileTypes
                description: >-
                    Container for links to the file types that this extractor supports.
            version:
                slot_uri: schema_org:version
                description: >-
                    A version tag for the registered extractor.
            source_repository:
                description: >-
                    A URL or URI for a source code repository associated with this
                    extractor.
            documentation:
                description: >-
                    A URL or URI for any online documentation associated with this
                    extractor.
            usage:
                multivalued: true
                inlined_as_list: true
                range: Usage
                description: >-
                    A machine-actionable description of the usage of the Extractor.
                    The described usage pattern shall be available after the
                    'installation' instructions have been followed.
            installation:
                multivalued: true
                inlined_as_list: true
                range: Installation
                description: >-
                    A machine-actionable set of installation instructions to obtain
                    a working set-up of the Extractor.
            instructions:
                description: >-
                    Any usage notes or installation instructions for this Extractor.
                    This field is intended for human use only and is not intended
                    to be machine-actionable. Please use the 'installation' and
                    'usage' fields for that purpose.


enums:
    UsageTypes:
        permissible_values:
            cli:
                description: >-
                    Access the Extractor as a command line executable. The executable
                    as well as the invocation syntax, parametrised using arguments,
                    shall be supplied in the 'command' slot.
            python:
                description: >-
                    Access the Extractor as a Python function. The function should
                    be
                    available when 'import Extractor' is called, and should be specified
                    including relevant namespaces. The function signature, parametrised
                    using arguments, shall be supplied in the 'command' slot.

    InstallerTypes:
        permissible_values:
            pip:
                description: >-
                    Install the Extractor using 'pip'. The 'command' has to be a valid
                    pip invocation, such as 'pip install yadg'. Usage of a requirements
                    file can be specified as 'pip install -r $requirements'. Packages
                    can also be installed using the git/https interface.
            conda:
                description: >-
                    Install the Extractor using 'conda'. Not yet implemented / supported.
